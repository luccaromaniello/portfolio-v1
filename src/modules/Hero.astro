---
import { ButtonLink, TextLink } from "@components/ui";
import { GITHUB_URL, LINKEDIN_URL, MAIL_URL } from "@constants";
import { Image } from "astro:assets";
import luccaImage from "@assets/lucca/lucca-sofa.jpg";
import coffeeGif from "@assets/lucca/coffee-compressed.mp4";
import { baseSpacing } from "@constants";
---

<div
  class={`${baseSpacing} text-white pt-24 pb-20 mb-48 bg-neutral-primary overflow-visible`}
>
  <div
    class="relative flex flex-row gap-8 w-full justify-start mx-auto max-w-[1440px]"
  >
    <div class="flex flex-col gap-12 lg:gap-10 w-full pt-10 pl-24">
      <h1
        data-text="Lucca Romaniello"
        class="relative z-10 anaglyph text-8xl font-satoshi leading-tight font-bold
              text-white tracking-wider uppercase"
      >
        Lucca Romaniello
      </h1>
      <div class="flex flex-col gap-3 leading-relaxed text-2xl max-w-[640px]">
        <p class="text-balance text-content-tertiary">
          Full Stack Engineer with a product design background. 6+ years
          blending engineering and design.
        </p>
        <p class="text-base text-content-tertiary">
          Based in Brazil, working globally. Open to full-time and freelance
          work.
        </p>
      </div>
      <div class="flex flex-row gap-6 items-center pt-4">
        <ButtonLink
          icon="github"
          label="GitHub"
          href={GITHUB_URL}
          theme="dark"
          external
        />
        <ButtonLink
          icon="linkedin"
          label="LinkedIn"
          href={LINKEDIN_URL}
          theme="dark"
          external
        />
        <ButtonLink
          icon="mail"
          label="Contact"
          href={MAIL_URL}
          theme="dark"
          copyToClipboard={MAIL_URL}
        />
      </div>
    </div>
    <div
      class="absolute right-8 md:right-20 lg:right-16 xl:right-72 2xl:right-24 w-[480px] h-[560px]"
    >
      <div class="flex flex-col gap-4 justify-center text-center">
        <div
          id="hero-media"
          oncontextmenu="return false"
          class="relative border-2 border-white shadow-[3px_3px_0_0_#AE1E5F] rounded-xl overflow-hidden cursor-pointer"
        >
          <Image
            src={luccaImage}
            alt="Lucca Romaniello"
            class="object-contain object-center -mt-32 transition-opacity duration-150 will-change-[opacity]"
            id="hero-image"
          />
          <video
            src={coffeeGif}
            muted
            playsinline
            loop
            class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-150 will-change-[opacity]"
            id="hero-video"></video>
          <p
            id="hero-video-text"
            class="absolute bottom-4 left-0 right-0 text-center font-caveat text-2xl text-white opacity-0 transition-opacity duration-150 will-change-[opacity] z-10"
          >
            This one's for you. Sugar?
          </p>
        </div>
        <div class="text-neutral-primary/90">
          <p class="font-caveat text-2xl">
            On most days, you’ll find me with some
            <TextLink
              link={{
                label: "pão de queijo",
                url: "https://en.wikipedia.org/wiki/P%C3%A3o_de_queijo",
              }}
              size="large"
              cursive
            />
            and a cup of coffee. No sugar.
          </p>
          <p
            class="absolute font-caveat text-2xl bottom-56 -right-42 rotate-90 text-content-secondary"
          >
            Coffee's on me. Hover to grab yours.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const container = document.getElementById("hero-media");
  const image = document.getElementById("hero-image") as HTMLImageElement;
  const video = document.getElementById("hero-video") as HTMLVideoElement;
  const text = document.getElementById(
    "hero-video-text",
  ) as HTMLParagraphElement;

  container?.addEventListener("mouseenter", () => {
    image.style.opacity = "0";
    video.style.opacity = "1";
    text.style.opacity = "1";
    video.currentTime = 0;
    video.play();
  });

  container?.addEventListener("mouseleave", () => {
    image.style.opacity = "1";
    video.style.opacity = "0";
    text.style.opacity = "0";
    video.pause();
  });
</script>
